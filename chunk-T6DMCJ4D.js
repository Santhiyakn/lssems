import{a as K,b as Q}from"./chunk-R67GB3SH.js";import{a as D,b as V,c as E,d as q,e as j,f as G,g as T,h as z,i as L,k as U,q as B,r as W}from"./chunk-47M35D6R.js";import{a as J}from"./chunk-62Y5HVUV.js";import{a as H}from"./chunk-TWOJGJXD.js";import{D as N,F as m,H as n,I as a,J as p,K as y,L as x,M as d,O as s,S as P,T as w,U as k,W as h,da as O,ea as F,l as u,la as I,na as R,o as M,oa as A,p as g,pa as S,s as f,t as v,y as c,z as l}from"./chunk-XDOW7T3A.js";var Y=()=>["/admin/categories"];function $(r,t){if(r&1){let e=y();n(0,"div",2)(1,"button",3),s(2,"Back"),a(),n(3,"form",4),x("ngSubmit",function(){f(e);let o=d();return v(o.createService())}),n(4,"label",5),s(5,"Category Name"),a(),p(6,"br")(7,"input",6)(8,"br"),n(9,"button",7),s(10,"ADD"),a()()()}if(r&2){let e=d();c(),m("routerLink",h(2,Y)),c(2),m("formGroup",e.serviceCreateForm)}}function ee(r,t){if(r&1){let e=y();n(0,"div",2)(1,"button",3),s(2,"Back"),a(),p(3,"br"),n(4,"label",5),s(5,"Category Name"),a(),p(6,"br"),n(7,"input",8),k("ngModelChange",function(o){f(e);let _=d();return w(_.updateServiceName,o)||(_.updateServiceName=o),v(o)}),a(),p(8,"br"),n(9,"button",9),x("click",function(){f(e);let o=d();return v(o.updateService())}),s(10,"UPDATE"),a()()}if(r&2){let e=d();c(),m("routerLink",h(2,Y)),c(6),P("ngModel",e.updateServiceName)}}var C=class r{constructor(t,e,i,o){this.service=t;this.apiService=e;this.route=i;this.router=o}isCreatePage=!0;getOneService=[];createServiceData={name:""};result;updateServiceName="";serviceCreateForm=new j({serviceName:new G("",V.required)});ngOnInit(){this.isCreatePage=this.service.iscreated,this.service.iscreated||this.getService()}createService(){try{console.log("Create service"),this.serviceCreateForm.value.serviceName!=null&&this.serviceCreateForm.value.serviceName!=null&&(this.createServiceData.name=this.serviceCreateForm.value.serviceName),this.apiService.createService(this.createServiceData).subscribe(t=>{this.result=t,console.log(this.result)},t=>{this.router.navigate(["/admin/categories"],{queryParams:{isCreated:"false"}}),console.log(t)}),this.router.navigate(["/admin/categories"],{queryParams:{isCreated:"true"}})}catch(t){this.router.navigate(["/admin/categories"],{queryParams:{isCreated:"false"}}),console.log(t)}}getService(){try{console.log("getSevice");let t="",e=this.route.snapshot.queryParamMap.get("id");e!=null&&(t=e),this.apiService.getService(t).subscribe(i=>{this.getOneService=i.data,this.updateServiceName=this.getOneService[0].name,console.log(this.updateServiceName)},i=>{console.log(i)})}catch(t){console.log(t)}}updateService(){try{let t={name:this.updateServiceName},e="",i=this.route.snapshot.queryParamMap.get("id");i!=null&&(e=i),this.apiService.updateService(e,t).subscribe(o=>{console.log(o.status)},o=>{this.router.navigate(["/admin/categories"],{queryParams:{isUpdated:"false"}}),console.log(o)}),this.router.navigate(["/admin/categories"],{queryParams:{isUpdated:"true"}})}catch(t){this.router.navigate(["/admin/categories"],{queryParams:{isUpdated:"false"}}),console.log(t)}}static \u0275fac=function(e){return new(e||r)(l(H),l(J),l(I),l(R))};static \u0275cmp=M({type:r,selectors:[["app-category-change"]],decls:5,vars:2,consts:[[1,"categoriesCreate"],["class","form-container",4,"ngIf"],[1,"form-container"],["type","button",1,"back-btn",3,"routerLink"],[3,"ngSubmit","formGroup"],["for","categoryName"],["type","text","id","categoryName","name","categoryName","formControlName","serviceName"],["type","submit",1,"btn-submit"],["type","text","id","categoryName","name","categoryName",3,"ngModelChange","ngModel"],["type","submit",1,"btn-submit",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div"),p(2,"app-sidenavbar"),a(),N(3,$,11,3,"div",1)(4,ee,11,3,"div",1),a()),e&2&&(c(3),m("ngIf",i.isCreatePage),c(),m("ngIf",!i.isCreatePage))},dependencies:[O,A,K,z,D,E,q,L,U,T],styles:[".categoriesCreate[_ngcontent-%COMP%]{display:flex}.form-container[_ngcontent-%COMP%]{flex-grow:1;padding:20px;width:50%;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 6px #0000001a;margin:5% 5% auto 25%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333;margin-bottom:8px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;margin-bottom:20px;box-sizing:border-box;transition:border-color .3s ease}input[type=text][_ngcontent-%COMP%]:focus{border-color:#0288d1;outline:none;box-shadow:0 0 5px #0288d133}.btn-submit[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;border:none;border-radius:4px;padding:10px 16px;font-size:14px;cursor:pointer;text-transform:uppercase;transition:background-color .3s ease;align-self:flex-start}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0277bd}.back-btn[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff;margin-left:80%}.back-btn[_ngcontent-%COMP%]:hover{background-color:#c62828}button[_ngcontent-%COMP%]{padding:10px 20px;margin:10px;font-size:16px;border:none;cursor:pointer;border-radius:5px}"]})};var te=[{path:"",component:C}],b=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=g({type:r});static \u0275inj=u({imports:[S.forChild(te),S]})};var Z=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=g({type:r});static \u0275inj=u({imports:[F,b,Q,W,B]})};export{Z as a};
