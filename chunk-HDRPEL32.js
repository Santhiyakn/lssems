import{a as D}from"./chunk-UHYMZBTT.js";import{a as V,b as T}from"./chunk-OU56AEV4.js";import"./chunk-47M35D6R.js";import{a as F}from"./chunk-62Y5HVUV.js";import{a as N}from"./chunk-TWOJGJXD.js";import{D as M,F as b,H as r,I as i,J as x,K as O,L as l,M as P,O as s,P as k,W as v,X as C,ca as S,ea as w,l as p,la as E,o as y,oa as A,p as m,pa as h,s as u,t as f,y as a,z as g}from"./chunk-XDOW7T3A.js";var q=()=>["/admin/person/view"],I=n=>({id:n}),U=()=>["/admin/person/update"];function z(n,e){if(n&1){let t=O();r(0,"tr")(1,"td"),s(2),i(),r(3,"td")(4,"button",5),l("click",function(){u(t);let c=P();return f(c.viewPerson())}),s(5,"View"),i()(),r(6,"td")(7,"button",6),l("click",function(){u(t);let c=P();return f(c.updatePerson())}),s(8,"UPDATE"),i()(),r(9,"td")(10,"button",7),l("click",function(){let c=u(t).$implicit,L=P();return f(L.deletePerson(c._id))}),s(11,"Delete"),i()()()}if(n&2){let t=e.$implicit;a(2),k(t.companyName),a(2),b("routerLink",v(5,q))("queryParams",C(6,I,t._id)),a(3),b("routerLink",v(8,U))("queryParams",C(9,I,t._id))}}var d=class n{constructor(e,t,o){this.apiService=e;this.service=t;this.route=o}persons=[];ngOnInit(){this.route.queryParams.subscribe(e=>{e.isCreated&&(alert("Created successfully"),this.getPersons()),e.isCreated==!1&&(alert("Please provide a valid information for creating person"),this.getPersons())}),this.route.queryParams.subscribe(e=>{e.isUpdated&&(alert("Updated successfully"),this.getPersons()),e.isUpdated==!1&&(alert("Please provide a valid information for updating person"),this.getPersons())}),this.getPersons()}createPerson(){try{this.service.personCreate=!0}catch(e){console.log(e)}}updatePerson(){try{this.service.personCreate=!1}catch(e){console.log(e)}}viewPerson(){try{this.service.personView=!0}catch(e){console.log(e)}}deletePerson(e){alert("Are you sure you want to delete this person?");try{let t="";e!=null&&e!=null&&(t=e),this.apiService.deleteServiceProvider(t).subscribe(o=>{console.log(o.status)},o=>{alert("Deletion failed"),console.log(o)}),alert("deleted successfully"),this.getPersons()}catch(t){alert("Deletion failed"),console.log(t)}}getPersons(){try{let e={pageNumber:"1",pageSize:"2"},t={sortBy:"companyName",sortOrder:"asce"};this.apiService.getServiceProviders(e,t).subscribe(o=>{this.persons=o.data,console.log(this.persons)},o=>{console.log(o)})}catch(e){console.log(e)}}static \u0275fac=function(t){return new(t||n)(g(F),g(N),g(E))};static \u0275cmp=y({type:n,selectors:[["app-person"]],decls:19,vars:1,consts:[[1,"person"],[1,"person-page"],["routerLink","/admin/person/create",1,"btn-create",3,"click"],[1,"styled-table"],[4,"ngFor","ngForOf"],[1,"btn-view",3,"click","routerLink","queryParams"],[1,"btn-update",3,"click","routerLink","queryParams"],[1,"btn-delete",3,"click"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div"),x(2,"app-sidenavbar"),i(),r(3,"div",1)(4,"button",2),l("click",function(){return o.createPerson()}),s(5,"CREATE"),i(),r(6,"table",3)(7,"thead")(8,"tr")(9,"th"),s(10,"COMPANY NAME"),i(),r(11,"th"),s(12,"VIEW"),i(),r(13,"th"),s(14,"UPDATE"),i(),r(15,"th"),s(16,"DELETE"),i()()(),r(17,"tbody"),M(18,z,12,11,"tr",4),i()()()()),t&2&&(a(18),b("ngForOf",o.persons))},dependencies:[S,A,V],styles:[".person-page[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:78%;font-family:Arial,sans-serif;margin:3% auto auto 20%}.btn-create[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;padding:10px 15px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s ease;margin-bottom:20px}.btn-create[_ngcontent-%COMP%]:hover{background-color:#0277bd}.styled-table[_ngcontent-%COMP%]{border-collapse:collapse;margin:20px 0;font-size:16px;width:90%;text-align:center;border:1px solid #ddd}.styled-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .styled-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.styled-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;font-weight:700;text-align:center}.styled-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.styled-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#f3f3f3}.styled-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #0288d1}button[_ngcontent-%COMP%]{padding:8px 12px;border-radius:4px;border:none;cursor:pointer;font-size:14px;transition:background-color .3s ease}.btn-view[_ngcontent-%COMP%]{background-color:#81c784;color:#fff}.btn-view[_ngcontent-%COMP%]:hover{background-color:#66bb6a}.btn-update[_ngcontent-%COMP%]{background-color:#4fc3f7;color:#fff}.btn-update[_ngcontent-%COMP%]:hover{background-color:#29b6f6}.btn-delete[_ngcontent-%COMP%]{background-color:#e57373;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#ef5350}"]})};var G=[{path:"",component:d},{path:"view",loadChildren:()=>import("./chunk-YYZUW5OK.js").then(n=>n.PersonViewModule)},{path:"create",loadChildren:()=>import("./chunk-R4RL73QL.js").then(n=>n.PersonChangeModule)},{path:"update",loadChildren:()=>import("./chunk-R4RL73QL.js").then(n=>n.PersonChangeModule)},{path:"**",component:d}],_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=m({type:n});static \u0275inj=p({imports:[h.forChild(G),h]})};var j=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=m({type:n});static \u0275inj=p({imports:[w,_,T,D]})};export{j as PersonModule};
