import{a as A,b as R}from"./chunk-OU56AEV4.js";import{a as I,c as F,g as O,q as L}from"./chunk-47M35D6R.js";import{a as D}from"./chunk-62Y5HVUV.js";import"./chunk-TWOJGJXD.js";import{D as P,F as w,H as o,I as t,J as S,K as k,L as x,M as N,O as r,Q as f,S as s,T as p,U as m,W as E,ca as W,ea as B,l as g,la as V,o as M,oa as T,p as u,pa as _,s as C,t as v,y as d,z as h}from"./chunk-XDOW7T3A.js";var z=()=>["/admin/person"];function U(c,a){if(c&1){let i=k();o(0,"div",27)(1,"p")(2,"strong"),r(3,"User ID:"),t(),r(4),t(),o(5,"p")(6,"strong"),r(7,"Rating:"),t(),r(8),t(),o(9,"p")(10,"strong"),r(11,"Review:"),t(),r(12),t(),o(13,"button",28),x("click",function(){let l=C(i).$implicit,e=N();return v(e.deleteFeedBack(l._id))}),r(14,"Delete"),t()()}if(c&2){let i=a.$implicit;d(4),f(" ",i.userId.slice(-4),""),d(4),f(" ",i.rating,""),d(4),f(" ",i.review,"")}}var b=class c{constructor(a,i){this.apiService=a;this.route=i}ngOnInit(){this.getPersonDetails(),this.getFeedBack()}personId="";person={_id:"",companyName:"",serviceProviderName:"",phoneNumber:{phoneNumber:""},location:{city:"",state:"",country:""},serviceType:"",serviceDescription:"",photo:{photo:""},email:"",website:{website:""},locationAvailable:[]};user={_id:"",role:"",name:"",email:"",phoneNumber:"",photo:"",isVerified:!0};feedBacks=[];getPersonDetails(){try{let a=this.route.snapshot.queryParamMap.get("id");a!=null&&(this.personId=a,console.log(this.personId)),this.apiService.getServiceProvider(this.personId).subscribe(i=>{this.person=i.data[0]},i=>{console.log(i)})}catch(a){console.log(a)}}getFeedBack(){try{this.apiService.getServiceProviderFeedBack(this.personId).subscribe(a=>{this.feedBacks=a.data,console.log(this.feedBacks)},a=>{console.log(a)})}catch(a){console.log(a)}}deleteFeedBack(a){let i="";a&&(i=a),alert("Are you sure ypu want to delete this feedback?"),this.apiService.delServiceProviderFeedBack(i).subscribe(n=>{console.log(n.status)},n=>{console.log(n)}),alert("Delete successfully"),this.getFeedBack()}static \u0275fac=function(i){return new(i||c)(h(D),h(V))};static \u0275cmp=M({type:c,selectors:[["app-person-view"]],decls:53,vars:14,consts:[[1,"person-view"],[1,"view-page"],["type","button",1,"btn-back",3,"routerLink"],[1,"form-group"],["for","companyName"],["type","text","id","companyName","name","companyName","disabled","",3,"ngModelChange","ngModel"],["for","name"],["type","text","id","name","name","name","disabled","",3,"ngModelChange","ngModel"],["for","serviceType"],["type","text","id","serviceType","name","serviceType","disabled","",3,"ngModelChange","ngModel"],["for","phoneNumber"],["type","text","id","phoneNumber","name","phoneNumber","disabled","",3,"ngModelChange","ngModel"],["for","city"],["type","text","id","city","name","city","disabled","",3,"ngModelChange","ngModel"],["for","state"],["type","text","id","state","name","state","disabled","",3,"ngModelChange","ngModel"],["for","country"],["type","text","id","country","name","country","disabled","",3,"ngModelChange","ngModel"],["for","website"],["type","text","id","website","name","website","disabled","",3,"ngModelChange","ngModel"],["for","email"],["type","text","id","email","name","email","disabled","",3,"ngModelChange","ngModel"],["for","photo"],["type","text","id","photo","name","photo","disabled","",3,"ngModelChange","ngModel"],["for","description"],["type","text","id","description","name","description","disabled","",3,"ngModelChange","ngModel"],["class","feedback",4,"ngFor","ngForOf"],[1,"feedback"],["type","button",1,"btn-delete-feedback",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div"),S(2,"app-sidenavbar"),t(),o(3,"div",1)(4,"button",2),r(5,"Back"),t(),o(6,"div",3)(7,"label",4),r(8,"Company Name"),t(),o(9,"input",5),m("ngModelChange",function(e){return p(n.person.companyName,e)||(n.person.companyName=e),e}),t()(),o(10,"div",3)(11,"label",6),r(12,"Person Name"),t(),o(13,"input",7),m("ngModelChange",function(e){return p(n.person.serviceProviderName,e)||(n.person.serviceProviderName=e),e}),t()(),o(14,"div",3)(15,"label",8),r(16,"Service Type"),t(),o(17,"input",9),m("ngModelChange",function(e){return p(n.person.serviceType,e)||(n.person.serviceType=e),e}),t()(),o(18,"div",3)(19,"label",10),r(20,"Phone Number"),t(),o(21,"input",11),m("ngModelChange",function(e){return p(n.person.phoneNumber.phoneNumber,e)||(n.person.phoneNumber.phoneNumber=e),e}),t()(),o(22,"div",3)(23,"label"),r(24,"Location"),t(),o(25,"label",12),r(26,"City"),t(),o(27,"input",13),m("ngModelChange",function(e){return p(n.person.location.city,e)||(n.person.location.city=e),e}),t()(),o(28,"div",3)(29,"label",14),r(30,"State"),t(),o(31,"input",15),m("ngModelChange",function(e){return p(n.person.location.state,e)||(n.person.location.state=e),e}),t()(),o(32,"div",3)(33,"label",16),r(34,"Country"),t(),o(35,"input",17),m("ngModelChange",function(e){return p(n.person.location.country,e)||(n.person.location.country=e),e}),t()(),o(36,"div",3)(37,"label",18),r(38,"Website"),t(),o(39,"input",19),m("ngModelChange",function(e){return p(n.person.website.website,e)||(n.person.website.website=e),e}),t()(),o(40,"div",3)(41,"label",20),r(42,"Email"),t(),o(43,"input",21),m("ngModelChange",function(e){return p(n.person.email,e)||(n.person.email=e),e}),t()(),o(44,"div",3)(45,"label",22),r(46,"Photo"),t(),o(47,"input",23),m("ngModelChange",function(e){return p(n.person.photo.photo,e)||(n.person.photo.photo=e),e}),t()(),o(48,"div",3)(49,"label",24),r(50,"Description"),t(),o(51,"input",25),m("ngModelChange",function(e){return p(n.person.serviceDescription,e)||(n.person.serviceDescription=e),e}),t()(),P(52,U,15,3,"div",26),t()()),i&2&&(d(4),w("routerLink",E(13,z)),d(5),s("ngModel",n.person.companyName),d(4),s("ngModel",n.person.serviceProviderName),d(4),s("ngModel",n.person.serviceType),d(4),s("ngModel",n.person.phoneNumber.phoneNumber),d(6),s("ngModel",n.person.location.city),d(4),s("ngModel",n.person.location.state),d(4),s("ngModel",n.person.location.country),d(4),s("ngModel",n.person.website.website),d(4),s("ngModel",n.person.email),d(4),s("ngModel",n.person.photo.photo),d(4),s("ngModel",n.person.serviceDescription),d(),w("ngForOf",n.feedBacks))},dependencies:[W,T,A,I,F,O],styles:[".view-page[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:90%;font-family:Arial,sans-serif;margin:3% 5% auto 20%}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:14px;color:#0277bd;display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:90%;padding:10px;border:1px solid #b3e5fc;border-radius:4px;font-size:14px;background-color:#f7f9fc;color:#333;cursor:not-allowed}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0288d1;box-shadow:0 0 4px #81d4fa}.feedback[_ngcontent-%COMP%]{background-color:#f3f4f6;border-radius:8px;padding:10px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a}.feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px}.btn-delete-feedback[_ngcontent-%COMP%]{background-color:#e57373;color:#fff;padding:8px 12px;border-radius:4px;border:none;cursor:pointer;transition:background-color .3s ease}.btn-delete-feedback[_ngcontent-%COMP%]:hover{background-color:#ef5350}.btn-back[_ngcontent-%COMP%]{background-color:#ef5350;color:#fff;padding:10px 15px;border-radius:4px;border:none;cursor:pointer;font-size:14px;transition:background-color .3s ease;margin-top:20px;margin-left:80%}.btn-back[_ngcontent-%COMP%]:hover{background-color:#ef5350}"]})};var q=[{path:"",component:b}],y=class c{static \u0275fac=function(i){return new(i||c)};static \u0275mod=u({type:c});static \u0275inj=g({imports:[_.forChild(q),_]})};var G=class c{static \u0275fac=function(i){return new(i||c)};static \u0275mod=u({type:c});static \u0275inj=g({imports:[B,y,R,L]})};export{G as PersonViewModule};
