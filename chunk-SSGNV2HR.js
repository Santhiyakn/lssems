import{a as L}from"./chunk-VSEG5FTY.js";import{a as N}from"./chunk-IYAFIA4Z.js";import{a as F,b as j}from"./chunk-VXWRIPFF.js";import{r as I}from"./chunk-47M35D6R.js";import{a as D}from"./chunk-62Y5HVUV.js";import{a as T}from"./chunk-TWOJGJXD.js";import{D as x,F as C,H as i,I as r,J as M,K as S,L as g,M as b,O as n,P as y,W as P,X as O,ca as k,ea as A,l as d,la as E,na as w,o as h,oa as R,p,pa as _,s as f,t as v,y as m,z as s}from"./chunk-XDOW7T3A.js";var q=()=>["/admin/categories/update"],G=o=>({id:o});function $(o,e){if(o&1){let t=S();i(0,"tr")(1,"td"),n(2),r(),i(3,"td")(4,"button",5),g("click",function(){f(t);let a=b();return v(a.update())}),n(5," UPDATE "),r()(),i(6,"td")(7,"button",6),g("click",function(){let a=f(t).$implicit,V=b();return v(V.deleteService(a._id))}),n(8," DELETE "),r()()()}if(o&2){let t=e.$implicit;m(2),y(t.name),m(2),C("routerLink",P(3,q))("queryParams",O(4,G,t._id))}}var l=class o{constructor(e,t,c,a){this.service=e;this.apiService=t;this.route=c;this.router=a}services=[];ngOnInit(){this.route.queryParams.subscribe(e=>{e.isCreated&&(alert("Created successfully"),this.getAllServices()),e.isCreated==!1&&(alert("Please provide valid information for creating service"),this.getAllServices())}),this.route.queryParams.subscribe(e=>{e.isUpdated&&(alert("Updated successfully"),this.getAllServices()),e.isUpdated==!1&&(alert("Please provide valid information for updating service"),this.getAllServices())}),this.getAllServices()}create(){try{this.service.iscreated=!0,console.log("true")}catch(e){console.log(e)}}update(){try{this.service.iscreated=!1,console.log("false")}catch(e){console.log(e)}}getAllServices(){try{this.apiService.getServices().subscribe(e=>{this.services=e.data},e=>{console.log(e)})}catch(e){console.log(e)}}deleteService(e){try{console.log(e),this.showAlert("Are you sure you want to delete"),this.apiService.deleteService(e).subscribe(t=>{console.log(t.status)},t=>{alert("Deletion failed"),console.log(t)}),alert("Deleted successfully"),this.getAllServices()}catch(t){alert("Deletion failed"),console.log(t)}}showAlert(e){alert(e)}static \u0275fac=function(t){return new(t||o)(s(T),s(D),s(E),s(w))};static \u0275cmp=h({type:o,selectors:[["app-categories"]],decls:15,vars:1,consts:[[1,"categories"],[1,"categoriesPage"],["routerLink","/admin/categories/create",1,"btn-create",3,"click"],[1,"categories-table"],[4,"ngFor","ngForOf"],[1,"btn-update",3,"click","routerLink","queryParams"],[1,"btn-delete",3,"click"]],template:function(t,c){t&1&&(i(0,"div",0)(1,"div"),M(2,"app-sidenavbar"),r(),i(3,"div",1)(4,"button",2),g("click",function(){return c.create()}),n(5," CREATE "),r(),i(6,"table",3)(7,"tr")(8,"th"),n(9,"CATEGORY NAME"),r(),i(10,"th"),n(11,"UPDATE"),r(),i(12,"th"),n(13,"DELETE"),r()(),x(14,$,9,6,"tr",4),r()()()),t&2&&(m(14),C("ngForOf",c.services))},dependencies:[k,R,F],styles:[".categories[_ngcontent-%COMP%]{display:flex}.categoriesPage[_ngcontent-%COMP%]{flex-grow:1;padding:20px;width:80%;margin:auto 5% auto 20%}.categories-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.categories-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .categories-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 20px;text-align:left;border-bottom:1px solid #ddd}.categories-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;text-transform:uppercase;font-weight:700;font-size:14px}.categories-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.categories-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.btn-create[_ngcontent-%COMP%]{display:inline-block;margin-bottom:20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;padding:10px 16px;font-size:14px;cursor:pointer;text-transform:uppercase;transition:background-color .3s ease}.btn-create[_ngcontent-%COMP%]:hover{background-color:#43a047}.btn-update[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;border:none;border-radius:4px;padding:8px 12px;font-size:14px;cursor:pointer;transition:background-color .3s ease}.btn-update[_ngcontent-%COMP%]:hover{background-color:#0277bd}.btn-delete[_ngcontent-%COMP%]{background-color:#e53935;color:#fff;border:none;border-radius:4px;padding:8px 12px;font-size:14px;cursor:pointer;transition:background-color .3s ease}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#d32f2f}"]})};var Y=[{path:"",component:l},{path:"create",loadChildren:()=>import("./chunk-JLVQX5GA.js").then(o=>o.CategoryChangeModule)},{path:"update",loadChildren:()=>import("./chunk-JLVQX5GA.js").then(o=>o.CategoryChangeModule)},{path:"**",component:l}],u=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=p({type:o});static \u0275inj=d({imports:[_.forChild(Y),_]})};var U=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=p({type:o});static \u0275inj=d({imports:[A,u,L,j,N,I]})};export{U as CategoriesModule};
